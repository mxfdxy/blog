<!DOCTYPE html>
<html lang="zh" class="no-js">
<head>
    <meta charset="utf-8">
    <title>vue.js ä¸­è‡ªåŠ¨å¡«å…… div é«˜åº¦ä¸º 100% - SolidZORO</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="keyword" content="vue.js ä¸­è‡ªåŠ¨å¡«å…… div é«˜åº¦ä¸º 100%, dev"/>
    <meta name="description" content="è¿™ç§é—®é¢˜åœ¨å‰ç«¯ä¸­å±äºå…¸å‹æ¡ˆä¾‹ï¼Œå¦‚ï¼ˆå›¾ï¼‰æ‰€ç¤ºï¼Œmain çš„é«˜åº¦æ’‘æ­»äº†å°±åªæœ‰ 200px ä¸”ä¸ºç°è‰²åº•ï¼Œä½†æµè§ˆå™¨ window.client é«˜åº¦æœ‰ 900pxï¼Œè¿™ tMd å°±éå¸¸å°´å°¬äº†ã€‚"/>
    <meta name="renderer" content="webkit">
    <meta name="apple-mobile-web-app-title" content="">
    <meta name="application-name" content="">
    <script src="/statics/vendor/bundle_f57bb6495d059f25183f.js"></script>
    <link rel="shortcut icon" href="/assets/favicons/favicon.ico">
    <link rel="stylesheet" type="text/css" href="/statics/styles/view.css">
    
    

</head>

<body class="body layout-body layout-body--vue-js-auto-fill-div-height-100-percent">

<div class="layout-header">
    <div class="container">
    <div class="header-bar clearfix">
        <div class="header-bar__list header-bar__list--menu">
            <div class="item item--logo">
                <a href="/">
                    <i class="fi fi-logo"></i>
                </a>
            </div>
        </div>

        <div class="header-bar__list header-bar__list--link">
            <div class="item">
                <a href="/about.html">about</a>
            </div>
            <div class="item">
                <a href="/project.html">project</a>
            </div>
        </div>
    </div>
</div>

</div>

<div class="layout-container">
    
    <div class="container">
        <div class="post-item">

            <div class="post-item__header">
                <h1>vue.js ä¸­è‡ªåŠ¨å¡«å…… div é«˜åº¦ä¸º 100%</h1>

                
                
                    <div class="date">
                        <sup data-hash="2017-08-22">2017-08-22</sup>
                    </div>
                
            </div>

            <div class="post-item__container">
                <div class="typo">
                    <pre><code>window.client H:900px
 |
 v
+--------------------------+
| navbar                   |
+------+-------------------+
|      |                   |
|      |                   |
| side |   main H:200px    |
| bar  |                   |
|      |                   |
+------+-------------------+
|                          |
|   FPzone                 |
|                          |
+--------------------------+
</code></pre>
<p>è¿™ç§é—®é¢˜åœ¨å‰ç«¯ä¸­å±äºå…¸å‹æ¡ˆä¾‹ï¼Œå¦‚ï¼ˆå›¾ï¼‰æ‰€ç¤ºï¼Œmain çš„é«˜åº¦æ’‘æ­»äº†å°±åªæœ‰ 200px ä¸”ä¸ºç°è‰²åº•ï¼Œä½†æµè§ˆå™¨ window.client é«˜åº¦æœ‰ 900pxï¼Œè¿™ tMd å°±éå¸¸å°´å°¬äº†ã€‚æå¾— FPzone é‚£å—åœ°æ–¹æ˜¯ç™½è‰²çš„ï¼Œå·¨ä¸‘æ— æ¯”ã€‚æ‰€ä»¥å¿…é¡»æƒ³åŠæ³•æŠ€è®¡ç®—å‡ºä¸€ä¸ªé«˜åº¦ï¼Œèµ‹ç»™ mainã€‚</p>
<h2>jQuery æ—¶ä»£çš„è§£å†³æ–¹æ¡ˆ</h2>
<p>è¿™ç§äº‹æƒ…åœ¨ jQuery æ—¶ä»£æ˜¯ä¸ªå°äº‹æƒ…ï¼Œå‡ è¡Œä»£ç å†™ä¸ª setMaxHeigt() æå®šäº†ï¼š</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// ä¼ªä»£ç </span>
<span class="token keyword">const</span> mH <span class="token operator">=</span> <span class="token function">getMainHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> cH <span class="token operator">=</span> <span class="token function">getClientHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>mH <span class="token operator">&lt;</span> cH<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mH<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> cH<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2>vue.js æ—¶ä»£çš„è§£å†³æ–¹æ¡ˆ</h2>
<p>ä½†æ˜¯åˆ°äº† vue.js æ—¶ä»£ï¼Œâ€¦â€¦ *&amp;â€¦â€¦Â¥%#@ å¥½å¤šä¸œè¥¿è¯´ä¸æ¸…æ¥šï¼Œå¬æˆ‘æ…¢æ…¢é“æ¥ï¼ˆä»Šå¤©å·®ç‚¹ç»™è·ªäº†ğŸ˜–ï¼‰</p>
<ul>
<li>ä¸€å¼€å§‹æƒ³ç€å†™ä¸ª computed å®æ—¶è®¡ç®—ä¸€ä¸‹ mainHeightï¼Œä½†æ˜¯å¤±è´¥äº†ï¼Œå› ä¸ºè¿›æ¥ç¬¬ä¸€æ¬¡æ˜¯ computed å‡ºæ¥äº†ï¼Œä½†ç”±äº vue.js æ˜¯ SPAï¼Œä¸å…¨å±€åˆ·æ–° domï¼Œæ‰€ä»¥ router åˆ°å¦å¤–çš„æ¨¡å—å°±æ²¡ååº”äº†ï¼è¿™â€¦â€¦</li>
<li>æ—¢ç„¶ computed åªè·‘ä¸€æ¬¡ï¼Œé‚£æˆ‘ watch è¿˜ä¸è¡Œï¼Œwatch ä»€ä¹ˆå‘¢ï¼Ÿå½“ç„¶æ˜¯ $routerï¼Œä¸è¿‡ watch $router å‡ºæ¥çš„ mainHeight éƒ½æ˜¯ä¸Šä¸€ä¸ªé¡µé¢çš„ heightValueï¼Œè¿™â€¦â€¦</li>
<li>ä¸­é€”è¿˜è¯•äº†å¾ˆå¤šæ–¹æ³•ï¼ŒåŒ…æ‹¬èµ°å› jQuery è€è·¯ï¼Œä½†æ¶‰åŠ router åˆ·æ–°é—®é¢˜ï¼Œä¸€æ ·å¤±è´¥äº†ï¼Œç›´åˆ°æˆ‘æƒ³èµ· vue.js æœ‰ä¸ªç”Ÿå‘½å‘¨æœŸè¡¨ã€‚</li>
</ul>
<p>try åŠå¤©ï¼Œåˆ°æœ€åå…¶å®è¿˜æ˜¯å¼„å‡ºæ¥ï¼Œåˆ†åˆ«åœ¨ mounted() å’Œ updated() æ”¾ä¸Šè¿™ä¸ª autoSetLayoutMainHeight()ã€‚</p>
<p>ç‰¹åˆ«è¦è¯´çš„æ˜¯ updated()ï¼Œvue.js ç›¸å¿…å¤§å®¶å¸¸ç”¨çš„å°±ä¸¤ä¸ªï¼Œä¸€ä¸ª created()ï¼Œä¸€ä¸ª mounted()ï¼Œåˆ«çš„è¦ä¹ˆä¸çŸ¥é“æ€ä¹ˆç”¨ï¼Œè¦ä¹ˆå°±æ˜¯æ²¡æœ‰åœºæ™¯è®©ä½ çŸ¥é“æ€ä¹ˆç”¨ã€‚æˆ‘å±äºç¬¬äºŒç§ã€‚ğŸ˜¢</p>
<p>è¯ä¸å¤šè¯´ï¼Œè´´ä»£ç ï¼š</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        layoutMainStyle<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            height<span class="token punctuation">:</span> <span class="token string">'auto'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">autoSetLayoutMainHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">autoSetLayoutMainHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">autoSetLayoutMainHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> layoutMainEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'layout__main'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">// åˆå§‹åŒ– mainHeightï¼Œé¿å…å‡ºç° mainHeight é™„ä¸Š clientHeight çš„å€¼å°±ä¸€ç›´ä¿æŒä¸å˜</span>
            layoutMainEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'auto'</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">// è®¡ç®— mainHeight æ–°é«˜åº¦</span>
            <span class="token keyword">const</span> clientHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
            <span class="token keyword">const</span> layoutMainHeight <span class="token operator">=</span> layoutMainEl<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>layoutMainHeight <span class="token operator">&lt;</span> clientHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                layoutMainEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>clientHeight<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px`</span></span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
<h2>è¿™é‡Œé¡ºå¸¦è´´ä¸€ä¸‹ vue ç”Ÿå‘½å‘¨æœŸè§£é‡Š</h2>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// åœ¨æ•°æ®åˆå§‹åŒ–ä¹‹å‰è¢«è°ƒç”¨ï¼ˆå®ä¾‹åˆ›å»ºä¹‹åï¼‰</span>
<span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment" spellcheck="true">// åœ¨æ•°æ®åˆå§‹åŒ–ä¹‹åè¢«è°ƒç”¨ï¼ˆé¡µé¢è¿›æ¥æ—¶ç«‹å³è°ƒç”¨ï¼Œcreated æ˜¯ç¬¬ä¸€é€‰æ‹©ï¼‰</span>
<span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment" spellcheck="true">// åœ¨ç»„ä»¶æ¸²æŸ“ä¹‹å‰è¢«è°ƒç”¨ï¼ˆæ•°æ®æ¸²æŸ“ä¹‹å‰ï¼‰</span>
<span class="token comment" spellcheck="true">// æ¯”å¦‚è¦è‰²å½©æ¸²æŸ“å¯ä»¥åœ¨è¿™é‡Œå†™</span>
<span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment" spellcheck="true">// æ•´ä¸ªå®ä¾‹è¢«åˆ›å»ºå®Œæˆåè¢«è°ƒç”¨ï¼ˆç”Ÿå‘½å‘¨æœŸç”¨çš„æœ€å¤šçš„å°±æ˜¯ mountedï¼‰</span>
<span class="token comment" spellcheck="true">// å®ä¾‹åˆ›å»ºå®Œæˆã€æ•°æ®åˆå§‹åŒ–ã€æ¸²æŸ“é¡µé¢æ•°æ®åï¼Œæ‰è¢«è°ƒç”¨ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥åœ¨ mounted é‡Œå†™ Dom æ“ä½œäº†</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment" spellcheck="true">// åœ¨æ•°æ®æ”¹å˜æ—¶è¢«è°ƒç”¨</span>
<span class="token comment" spellcheck="true">// æ¯”å¦‚: total = 0 , ç„¶åæ‰‹åŠ¨æŠŠnum++; å°±ä¼šæ‰§è¡Œæ­¤æ–¹æ³•</span>
<span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment" spellcheck="true">// æ•°æ®è¢«æ›´æ–°ä¹‹å</span>
<span class="token comment" spellcheck="true">// æ¯”å¦‚ï¼štotal å€¼æ”¹å˜ä¹‹å</span>
<span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment" spellcheck="true">// keep-alive ç»„ä»¶æ¿€æ´»æ—¶è°ƒç”¨ï¼ˆè·¯ç”±åˆ‡æ¢æ—¶è¢«è°ƒç”¨ï¼‰</span>
<span class="token comment" spellcheck="true">// æ³¨æ„è¦é…åˆ keep-alive ä½¿ç”¨æ‰ä¼šè¢«è°ƒç”¨</span>
<span class="token function">activated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment" spellcheck="true">// keep-alive ç»„ä»¶åœç”¨æ—¶è°ƒç”¨</span>
<span class="token comment" spellcheck="true">// ä¹Ÿå¯ä»¥ç†è§£æˆåœ¨è·¯ç”±åˆ‡æ¢çš„æ—¶å€™ä¼šè‡ªåŠ¨åœç”¨ç»„ä»¶</span>
<span class="token function">deactivated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment" spellcheck="true">// å®ä¾‹é”€æ¯ä¹‹å‰è¢«è°ƒç”¨</span>
<span class="token comment" spellcheck="true">// è¿™ä¸ªæ–¹æ³•é€‚ç”¨äºæŠŠ new Vue({}) èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¦‚ var vm = new Vue({})ï¼Œç„¶åç”¨vm.$destroy() æ–¹æ³•é”€æ¯è¿™ä¸ªå®ä¾‹</span>
<span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment" spellcheck="true">// å®ä¾‹é”€æ¯ä¹‹åè¢«è°ƒç”¨</span>
<span class="token comment" spellcheck="true">// ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨é¡µé¢åˆ‡æ¢è·¯ç”±æ—¶ï¼Œä¼šè‡ªåŠ¨é”€æ¯ç»„ä»¶</span>
<span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>

                </div>
                <div class="eof">- EOF -</div>

                
                
                    <div class="category">
                        <a href="/category/dev.html">#dev</a>
                        
                            /
                            <a href="/category/dev-js.html">
                                js
                            </a>
                        
                    </div>
                
            </div>

        </div>
    </div>

</div>

<div class="layout-footer">
    <div class="container">
    <div class="footer-bar clearfix">
        <div class="footer-bar__copyright">
            &copy; 2012-2017 Jason Fung
        </div>
        <div class="footer-bar__logo">
            <a href="/">
                <i class="fi fi-logo"></i>
            </a>
        </div>
    </div>
</div>

</div>

<script src="/statics/scripts/view.js"></script>

    

</body>
</html>
